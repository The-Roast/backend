{"ast":null,"code":"import _slicedToArray from\"/Users/michaelli/Desktop/the-roast/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./styles/Signin.css\";import{useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signin(_ref){var setIsSignedIn=_ref.setIsSignedIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var navigate=useNavigate();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),warningMessage=_useState4[0],setWarningMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isWarningMessage=_useState6[0],setIsWarningMessage=_useState6[1];var handleSubmit=function handleSubmit(event){event.preventDefault();// Send the form data to the server for further processing\nfetch(\"http://127.0.0.1:5000/login\",{method:\"POST\",mode:\"cors\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Origin:\"http://localhost:3000\"},body:JSON.stringify({email:email})}).then(function(response){return response.json();}).then(function(response){if(response.status==404){setWarningMessage(\"Invalid email.\");setIsWarningMessage(true);}else{setIsSignedIn(true);navigate(\"/user-view\");console.log(response.message);}});};var emailInput=useCallback(function(inputElement){if(inputElement){inputElement.focus();}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"sign-in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"signin-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",name:\"email\",value:email,onChange:handleEmailChange,ref:emailInput,required:true}),isWarningMessage?/*#__PURE__*/_jsx(\"div\",{className:\"warning-message\",children:/*#__PURE__*/_jsx(\"p\",{children:warningMessage})}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:\"100px\"},className:\"button-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Sign in\"})})]})})});}export default Signin;","map":{"version":3,"names":["useState","useCallback","useNavigate","jsx","_jsx","jsxs","_jsxs","Signin","_ref","setIsSignedIn","_useState","_useState2","_slicedToArray","email","setEmail","handleEmailChange","e","target","value","navigate","_useState3","_useState4","warningMessage","setWarningMessage","_useState5","_useState6","isWarningMessage","setIsWarningMessage","handleSubmit","event","preventDefault","fetch","method","mode","headers","Accept","Origin","body","JSON","stringify","then","response","json","status","console","log","message","emailInput","inputElement","focus","className","children","onSubmit","type","placeholder","name","onChange","ref","required","style","paddingTop"],"sources":["/Users/michaelli/Desktop/the-roast/frontend/src/Pages/Signin.js"],"sourcesContent":["import \"./styles/Signin.css\";\nimport { useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Signin({ setIsSignedIn }) {\n\tconst [email, setEmail] = useState(\"\");\n\tconst handleEmailChange = (e) => {\n\t\tsetEmail(e.target.value);\n\t};\n\n\tconst navigate = useNavigate();\n\tconst [warningMessage, setWarningMessage] = useState(\"\");\n\tconst [isWarningMessage, setIsWarningMessage] = useState(false);\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\t// Send the form data to the server for further processing\n\t\tfetch(\"http://127.0.0.1:5000/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"cors\",\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tOrigin: \"http://localhost:3000\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({ email: email }),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status == 404) {\n\t\t\t\t\tsetWarningMessage(\"Invalid email.\");\n\t\t\t\t\tsetIsWarningMessage(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetIsSignedIn(true);\n\t\t\t\t\tnavigate(\"/user-view\");\n\t\t\t\t\tconsole.log(response.message);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst emailInput = useCallback((inputElement) => {\n\t\tif (inputElement) {\n\t\t\tinputElement.focus();\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div className=\"sign-in\">\n\t\t\t<div className=\"form-container\">\n\t\t\t\t<form className=\"signin-form\" onSubmit={handleSubmit}>\n\t\t\t\t\t{/* <label></label> */}\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={handleEmailChange}\n\t\t\t\t\t\tref={emailInput}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t{isWarningMessage ? (\n\t\t\t\t\t\t<div className=\"warning-message\">\n\t\t\t\t\t\t\t<p>{warningMessage}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ paddingTop: \"100px\" }} className=\"button-wrapper\">\n\t\t\t\t\t\t<input type=\"submit\" value=\"Sign in\" />\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Signin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}