{"ast":null,"code":"import _slicedToArray from\"/Users/michaelli/Desktop/the-roast/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useParams,useNavigate,useLocation}from\"react-router-dom\";import{SliderPicker}from\"react-color\";import\"./styles/NewsTemplate.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewsTemplate(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),unsavedChanges=_useState2[0],setUnsavedChanges=_useState2[1];var _useLocation=useLocation(),state=_useLocation.state;var preference=state.preference;// Read values passed on state\nvar _useState3=useState(preference.name),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(preference.color.hex),_useState6=_slicedToArray(_useState5,2),color=_useState6[0],setColor=_useState6[1];var _useState7=useState(preference.contentSources),_useState8=_slicedToArray(_useState7,2),contentSources=_useState8[0],setContentSources=_useState8[1];var _useState9=useState(preference.interests),_useState10=_slicedToArray(_useState9,2),interests=_useState10[0],setInterests=_useState10[1];var _useState11=useState(preference.personality),_useState12=_slicedToArray(_useState11,2),personality=_useState12[0],setPersonality=_useState12[1];var handleTitleChange=function handleTitleChange(event){setTitle(event.target.value);console.log(event.target.value);preference.name=title;setUnsavedChanges(true);};var handleColorChange=function handleColorChange(color){setColor(color.hex);preference.color.hex=color;setUnsavedChanges(true);};var handlePersonalityChange=function handlePersonalityChange(event){setPersonality(event.target.value);preference.personality=personality;setUnsavedChanges(true);};var handleInterestsChange=function handleInterestsChange(event){setInterests(event.target.value.split(\",\").map(function(t){return t.trim();}));preference.interests=interests;};var handleContentSourcesChange=function handleContentSourcesChange(event){setContentSources(event.target.value.split(\",\").map(function(s){return s.trim();}));preference.contentSources=contentSources;};var handleSave=function handleSave(){console.log(preference);setUnsavedChanges(false);// Send preferences to backend\nfetch(\"http://127.0.0.1:5000/v1/digest\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+JWT},body:JSON.stringify(preference)}).then(function(response){return response.json();}).then(function(response){});};return/*#__PURE__*/_jsxs(\"div\",{className:\"news-template\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"button-wrapper\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(-1);},children:\"Back\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Settings:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"preference-wrapper\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"editable-input title\",value:title,onChange:handleTitleChange,style:{color:color}}),/*#__PURE__*/_jsx(\"hr\",{className:\"editable-line\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Personality:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"editable-input\",value:personality,onChange:handlePersonalityChange}),/*#__PURE__*/_jsx(\"hr\",{className:\"editable-line\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Interests:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"editable-input\",value:interests.join(\", \"),onChange:handleInterestsChange}),/*#__PURE__*/_jsx(\"hr\",{className:\"editable-line\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Content Sources:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"editable-input\",value:contentSources.join(\", \"),onChange:handleContentSourcesChange}),/*#__PURE__*/_jsx(\"hr\",{className:\"editable-line\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"color-picker\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"color-values-wrapper\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"color-label\",children:\"Color:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"color-values\",children:/*#__PURE__*/_jsx(\"div\",{className:\"color-hex\",children:color})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"color-picker-container\",children:/*#__PURE__*/_jsx(SliderPicker,{color:color,onChange:handleColorChange})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,disabled:!unsavedChanges,children:\"Save preference\"}),unsavedChanges&&/*#__PURE__*/_jsx(\"span\",{children:\"Unsaved changes\"})]})]});}export default NewsTemplate;","map":{"version":3,"names":["React","useState","useParams","useNavigate","useLocation","SliderPicker","jsx","_jsx","jsxs","_jsxs","NewsTemplate","navigate","_useState","_useState2","_slicedToArray","unsavedChanges","setUnsavedChanges","_useLocation","state","preference","_useState3","name","_useState4","title","setTitle","_useState5","color","hex","_useState6","setColor","_useState7","contentSources","_useState8","setContentSources","_useState9","interests","_useState10","setInterests","_useState11","personality","_useState12","setPersonality","handleTitleChange","event","target","value","console","log","handleColorChange","handlePersonalityChange","handleInterestsChange","split","map","t","trim","handleContentSourcesChange","s","handleSave","fetch","method","headers","Accept","Authorization","JWT","body","JSON","stringify","then","response","json","className","children","onClick","type","onChange","style","join","disabled"],"sources":["/Users/michaelli/Desktop/the-roast/frontend/src/Pages/NewsTemplate.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport { SliderPicker } from \"react-color\";\nimport \"./styles/NewsTemplate.css\";\n\nfunction NewsTemplate() {\n\tconst navigate = useNavigate();\n\tconst [unsavedChanges, setUnsavedChanges] = useState(false);\n\tconst { state } = useLocation();\n\tconst { preference } = state; // Read values passed on state\n\tconst [title, setTitle] = useState(preference.name);\n\tconst [color, setColor] = useState(preference.color.hex);\n\tconst [contentSources, setContentSources] = useState(\n\t\tpreference.contentSources\n\t);\n\tconst [interests, setInterests] = useState(preference.interests);\n\tconst [personality, setPersonality] = useState(preference.personality);\n\n\tconst handleTitleChange = (event) => {\n\t\tsetTitle(event.target.value);\n\t\tconsole.log(event.target.value);\n\t\tpreference.name = title;\n\t\tsetUnsavedChanges(true);\n\t};\n\n\tconst handleColorChange = (color) => {\n\t\tsetColor(color.hex);\n\t\tpreference.color.hex = color;\n\t\tsetUnsavedChanges(true);\n\t};\n\n\tconst handlePersonalityChange = (event) => {\n\t\tsetPersonality(event.target.value);\n\t\tpreference.personality = personality;\n\t\tsetUnsavedChanges(true);\n\t};\n\n\tconst handleInterestsChange = (event) => {\n\t\tsetInterests(event.target.value.split(\",\").map((t) => t.trim()));\n\t\tpreference.interests = interests;\n\t};\n\n\tconst handleContentSourcesChange = (event) => {\n\t\tsetContentSources(event.target.value.split(\",\").map((s) => s.trim()));\n\t\tpreference.contentSources = contentSources;\n\t};\n\n\tconst handleSave = () => {\n\t\tconsole.log(preference);\n\t\tsetUnsavedChanges(false);\n\t\t// Send preferences to backend\n\t\tfetch(`http://127.0.0.1:5000/v1/digest`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: \"Bearer \" + JWT,\n\t\t\t},\n\t\t\tbody: JSON.stringify(preference),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {});\n\t};\n\n\treturn (\n\t\t<div className=\"news-template\">\n\t\t\t<div className=\"button-wrapper\">\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tnavigate(-1);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBack\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<h1 className=\"title\">Settings:</h1>\n\t\t\t<div className=\"preference-wrapper\">\n\t\t\t\t<h2>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"editable-input title\"\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={handleTitleChange}\n\t\t\t\t\t\tstyle={{ color: color }}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr className=\"editable-line\" />\n\t\t\t\t</h2>\n\t\t\t\t<label>\n\t\t\t\t\tPersonality:\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"editable-input\"\n\t\t\t\t\t\tvalue={personality}\n\t\t\t\t\t\tonChange={handlePersonalityChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr className=\"editable-line\" />\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\tInterests:\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"editable-input\"\n\t\t\t\t\t\tvalue={interests.join(\", \")}\n\t\t\t\t\t\tonChange={handleInterestsChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr className=\"editable-line\" />\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\tContent Sources:\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"editable-input\"\n\t\t\t\t\t\tvalue={contentSources.join(\", \")}\n\t\t\t\t\t\tonChange={handleContentSourcesChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr className=\"editable-line\" />\n\t\t\t\t</label>\n\t\t\t\t<div className=\"color-picker\">\n\t\t\t\t\t<div className=\"color-values-wrapper\">\n\t\t\t\t\t\t<label className=\"color-label\">Color:</label>\n\t\t\t\t\t\t<div className=\"color-values\">\n\t\t\t\t\t\t\t<div className=\"color-hex\">{color}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"color-picker-container\">\n\t\t\t\t\t\t<SliderPicker color={color} onChange={handleColorChange} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"button-wrapper\">\n\t\t\t\t<button onClick={handleSave} disabled={!unsavedChanges}>\n\t\t\t\t\tSave preference\n\t\t\t\t</button>\n\t\t\t\t{unsavedChanges && <span>Unsaved changes</span>}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default NewsTemplate;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}