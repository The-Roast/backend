{"ast":null,"code":"import _toConsumableArray from\"/Users/michaelli/Desktop/the-roast/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/michaelli/Desktop/the-roast/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./styles/UserView.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var UserView=function UserView(isSignedIn){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),hoveredSquare=_useState4[0],setHoveredSquare=_useState4[1];var navigate=useNavigate();var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),preferences=_useState6[0],setPreferences=_useState6[1];useEffect(function(){getPreferences();},[]);function getPreferences(){fetch(\"http://127.0.0.1:5000/v1/user\",{method:\"get\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(response){fetch(\"http://127.0.0.1:5000/v1/user/\".concat(response.email),{method:\"get\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(response){var newPreferences=_toConsumableArray(preferences);response.digests.map(function(digest){newPreferences.push(digest);});setPreferences(newPreferences);});});}var handleSquareClick=function handleSquareClick(preference){var path=preference.name.toLowerCase();if(path===\"pumpkin spice\"){path=\"pumpkin-spice\";}navigate(path,{state:{preference:preference}});};var handleSquareHover=function handleSquareHover(uuid){setHoveredSquare(uuid);};var handleSquareLeave=function handleSquareLeave(){setHoveredSquare(null);};var handleCreate=function handleCreate(){navigate(\"/create-digest\");};return/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"greeting\",children:[\"Hello, \",firstName,\"!\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"welcome\",children:\"Welcome to your Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[preferences.map(function(preference){return/*#__PURE__*/_jsx(\"div\",{className:\"square \".concat(hoveredSquare===preference.uuid?\"hovered\":\"\"),style:{backgroundColor:hoveredSquare===preference.uuid?\"transparent\":preference.color.hex,color:hoveredSquare===preference.uuid?preference.color.hex:\"#fefbf0\",border:hoveredSquare===preference.uuid?\"5px solid \"+preference.color.hex:\"5px solid transparent\"// outlineOffset: hoveredSquare === flavor.id ? \"-10px\" : \"0\",\n},onClick:function onClick(){return handleSquareClick(preference);},onMouseEnter:function onMouseEnter(){return handleSquareHover(preference.uuid);},onMouseLeave:handleSquareLeave,children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flavor\",children:preference.name})})},preference.uuid);}),/*#__PURE__*/_jsx(\"div\",{className:\"create-digest\",onClick:function onClick(){return handleCreate();},children:/*#__PURE__*/_jsx(\"div\",{className:\"flavor\",children:\"Create Digest\"})})]})]})});};export default UserView;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","UserView","isSignedIn","_useState","_useState2","_slicedToArray","firstName","setFirstName","_useState3","_useState4","hoveredSquare","setHoveredSquare","navigate","_useState5","_useState6","preferences","setPreferences","getPreferences","fetch","method","headers","Accept","then","response","json","concat","email","newPreferences","_toConsumableArray","digests","map","digest","push","handleSquareClick","preference","path","name","toLowerCase","state","handleSquareHover","uuid","handleSquareLeave","handleCreate","className","children","style","backgroundColor","color","hex","border","onClick","onMouseEnter","onMouseLeave"],"sources":["/Users/michaelli/Desktop/the-roast/frontend/src/Pages/UserView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./styles/UserView.css\";\n\nconst UserView = (isSignedIn) => {\n\tconst [firstName, setFirstName] = useState(\"\");\n\tconst [hoveredSquare, setHoveredSquare] = useState(null);\n\tlet navigate = useNavigate();\n\tconst [preferences, setPreferences] = useState([]);\n\n\tuseEffect(() => {\n\t\tgetPreferences();\n\t}, []);\n\n\tfunction getPreferences() {\n\t\tfetch(\"http://127.0.0.1:5000/v1/user\", {\n\t\t\tmethod: \"get\",\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\tfetch(`http://127.0.0.1:5000/v1/user/${response.email}`, {\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconst newPreferences = [...preferences];\n\t\t\t\t\t\tresponse.digests.map(function (digest) {\n\t\t\t\t\t\t\tnewPreferences.push(digest);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetPreferences(newPreferences);\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\tconst handleSquareClick = (preference) => {\n\t\tlet path = preference.name.toLowerCase();\n\t\tif (path === \"pumpkin spice\") {\n\t\t\tpath = \"pumpkin-spice\";\n\t\t}\n\t\tnavigate(path, { state: { preference: preference } });\n\t};\n\n\tconst handleSquareHover = (uuid) => {\n\t\tsetHoveredSquare(uuid);\n\t};\n\n\tconst handleSquareLeave = () => {\n\t\tsetHoveredSquare(null);\n\t};\n\n\tconst handleCreate = () => {\n\t\tnavigate(\"/create-digest\");\n\t};\n\n\treturn (\n\t\t<div className=\"main-container\">\n\t\t\t<div className=\"main\">\n\t\t\t\t{/* Left-aligned greeting */}\n\t\t\t\t<h1 className=\"greeting\">Hello, {firstName}!</h1>\n\t\t\t\t<h1 className=\"welcome\">Welcome to your Profile</h1>\n\n\t\t\t\t{/* 2x3 grid of squares */}\n\t\t\t\t<div className=\"grid\">\n\t\t\t\t\t{preferences.map((preference) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={preference.uuid}\n\t\t\t\t\t\t\tclassName={`square ${\n\t\t\t\t\t\t\t\thoveredSquare === preference.uuid ? \"hovered\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\t\thoveredSquare === preference.uuid\n\t\t\t\t\t\t\t\t\t\t? \"transparent\"\n\t\t\t\t\t\t\t\t\t\t: preference.color.hex,\n\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\thoveredSquare === preference.uuid\n\t\t\t\t\t\t\t\t\t\t? preference.color.hex\n\t\t\t\t\t\t\t\t\t\t: \"#fefbf0\",\n\t\t\t\t\t\t\t\tborder:\n\t\t\t\t\t\t\t\t\thoveredSquare === preference.uuid\n\t\t\t\t\t\t\t\t\t\t? \"5px solid \" + preference.color.hex\n\t\t\t\t\t\t\t\t\t\t: \"5px solid transparent\",\n\t\t\t\t\t\t\t\t// outlineOffset: hoveredSquare === flavor.id ? \"-10px\" : \"0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={() => handleSquareClick(preference)}\n\t\t\t\t\t\t\tonMouseEnter={() => handleSquareHover(preference.uuid)}\n\t\t\t\t\t\t\tonMouseLeave={handleSquareLeave}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t<div className=\"flavor\">{preference.name}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t\t<div className=\"create-digest\" onClick={() => handleCreate()}>\n\t\t\t\t\t\t<div className=\"flavor\">Create Digest</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default UserView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}